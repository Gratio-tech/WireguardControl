import t from"path";import{readJSON as a}from"boma";import{executeSingleCommand as s}from"./exec.js";import{parseStatus as o}from"./parsers.js";import{PEERS_PATH as n}from"./constants.js";const d=e=>e.replace(/\r\n/g,`
`),S=e=>{const r=a({filePath:t.resolve(n),parseJSON:!0,createIfNotFound:{}});return Object.keys(r).length>0&&Object.prototype.hasOwnProperty.call(r,e)?r[e].name||"[UNNAMED PEER]":""},f=async()=>{const e=await s("wg");return e.includes("not found, but")?{success:!1,error:"Seems like WireGuard is not installed on server"}:e===""?{success:!1,error:"WireGuard is disabled"}:{success:!0,data:{...o(e)}}},y=e=>e.replace(/[ЁёА-я ]/g,r=>c[r]??r),c={\u0401:"Yo",\u0451:"yo",\u0410:"A",\u0430:"a",\u0411:"B",\u0431:"b",\u0412:"V",\u0432:"v",\u0413:"G",\u0433:"g",\u0414:"D",\u0434:"d",\u0415:"E",\u0435:"e",\u0416:"Zh",\u0436:"zh",\u0417:"Z",\u0437:"z",\u0418:"I",\u0438:"i",\u0419:"Y",\u0439:"y",\u041A:"K",\u043A:"k",\u041B:"L",\u043B:"l",\u041C:"M",\u043C:"m",\u041D:"N",\u043D:"n",\u041E:"O",\u043E:"o",\u041F:"P",\u043F:"p",\u0420:"R",\u0440:"r",\u0421:"S",\u0441:"s",\u0422:"T",\u0442:"t",\u0423:"U",\u0443:"u",\u0424:"F",\u0444:"f",\u0425:"Kh",\u0445:"kh",\u0426:"Ts",\u0446:"ts",\u0427:"Ch",\u0447:"ch",\u0428:"Sh",\u0448:"sh",\u0429:"Shch",\u0449:"shch",\u042A:"",\u044A:"",\u042B:"Y",\u044B:"y",\u042C:"",\u044C:"",\u042D:"E",\u044D:"e",\u042E:"Yu",\u044E:"yu",\u042F:"Ya",\u044F:"ya"," ":"_"};export{S as getNameFromSavedData,f as getStatusFromBash,d as normalizeLineBreaks,y as transCyrilic};
